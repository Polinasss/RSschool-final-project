import{a as u,b as C}from"./chunk-2OK2SD6J.js";import{c as E}from"./chunk-I6WBTFIN.js";import{a as A,b as L,c as U,d as $,e as z,f as B,g as G}from"./chunk-MU6QX773.js";import{a as T,c as j,e as N}from"./chunk-5GEB22Y5.js";import{a as W,b as q}from"./chunk-SWG7LFT6.js";import{q as O}from"./chunk-MGBRLVRV.js";import{Z as w,aa as P}from"./chunk-WBXFGMZG.js";import{l as F,m as k}from"./chunk-P6FRCD3I.js";import{Ca as D,Cc as b,Dc as v,Ib as p,Kb as d,Ub as o,Vb as a,Wb as S,dc as c,fc as M,n as y,na as _,ob as m,pc as r,rc as h,ta as l,xc as x,za as g}from"./chunk-LLXA3JIY.js";var H=(()=>{let t=class t{constructor(){this.panelStateSubject=new y,this.panelState$=this.panelStateSubject.asObservable()}togglePanel(i,n){this.panelStateSubject.next({panelId:i,editMode:n})}togglePanelAndUpdateRoute(i,n,s){this.panelStateSubject.next({panelId:i,editMode:n,route:s})}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var J=(()=>{let t=class t{constructor(){this.store=l(O),this.routes$=this.store.select(C.selectRoutes),this.error$=this.store.select(C.selectError),this.isLoading$=this.store.select(C.selectIsLoading)}loadRoutes(){this.store.dispatch(u.loadAllRoutes())}addRoute(i){this.store.dispatch(u.createNewRoute({route:i}))}updateRoute(i){this.store.dispatch(u.updateRoute({route:i}))}deleteRoute(i){this.store.dispatch(u.deleteRoute({id:i}))}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var K=(()=>{let t=class t{transform(i){return i&&i.charAt(0).toUpperCase()+i.slice(1).toLowerCase()}};t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=D({name:"capitalizeFirstLetter",type:t,pure:!0,standalone:!0});let e=t;return e})();var Q=(()=>{let t=class t{constructor(){this.dialogRef=l(A),this.routeFacade=l(J),this.data=l(L)}deleteRoute(){let i=this.data.id;this.routeFacade.deleteRoute(i)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=g({type:t,selectors:[["app-route-delete"]],standalone:!0,features:[x],decls:9,vars:0,consts:[["mat-dialog-title",""],["mat-button","","mat-dialog-close",""],["mat-button","","mat-dialog-close","","cdkFocusInitial","",3,"click"]],template:function(n,s){n&1&&(o(0,"h2",0),r(1,"Delete route"),a(),o(2,"mat-dialog-content"),r(3," Would you like to delete route? "),a(),o(4,"mat-dialog-actions")(5,"button",1),r(6,"No"),a(),o(7,"button",2),c("click",function(){return s.deleteRoute()}),r(8,"Ok"),a()())},dependencies:[G,$,z,B,P,w]});let e=t;return e})();function V(e,t){e&1&&(o(0,"span"),r(1," - "),a())}function X(e,t){if(e&1&&(o(0,"span",10),r(1),b(2,"capitalizeFirstLetter"),p(3,V,2,0,"span",11),a()),e&2){let R=t.$implicit,i=t.index,n=M();m(),h("",v(2,2,R)," "),m(2),d("ngIf",i<n.stationsName.length-1)}}function Y(e,t){e&1&&(o(0,"span"),r(1," - "),a())}function Z(e,t){if(e&1&&(o(0,"span",10),r(1),b(2,"capitalizeFirstLetter"),p(3,Y,2,0,"span",11),a()),e&2){let R=t.$implicit,i=t.index,n=M();m(),h("",v(2,2,R)," "),m(2),d("ngIf",i<n.carriagesName.length-1)}}var kt=(()=>{let t=class t{constructor(){this.router=l(E),this.panelService=l(H),this.dialog=l(U)}onUpdate(){this.panelService.togglePanelAndUpdateRoute("panelRoute","edit",this.item)}onDelete(i,n){this.dialog.open(Q,{width:"250px",enterAnimationDuration:i,exitAnimationDuration:n,data:{id:this.item.id}})}assignRide(){this.router.navigate(["/admin-page/routes",this.item.id])}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=g({type:t,selectors:[["app-route-item"]],inputs:{item:"item",carriagesName:"carriagesName",stationsName:"stationsName"},standalone:!0,features:[x],decls:24,vars:3,consts:[[1,"item"],[1,"item__header"],[1,"item__title"],[1,"item__buttons"],[1,"item__button",3,"click"],["aria-hidden","false","aria-label","Edit Icon","fontIcon","edit",1,"item__icon"],["aria-hidden","false","aria-label","Ride Icon","fontIcon","directions_subway",1,"item__icon",3,"click"],["aria-hidden","false","aria-label","Delete Icon","fontIcon","delete",1,"item__icon"],[1,"item__subheader"],["class","item__list",4,"ngFor","ngForOf"],[1,"item__list"],[4,"ngIf"]],template:function(n,s){n&1&&(o(0,"mat-card",0)(1,"div",1)(2,"h2",2),r(3),a(),o(4,"div",3)(5,"div",4),c("click",function(){return s.onUpdate()}),S(6,"mat-icon",5),o(7,"span"),r(8,"Update"),a()(),o(9,"div",4),c("click",function(){return s.assignRide()}),o(10,"mat-icon",6),c("click",function(){return s.assignRide()}),a(),o(11,"span"),r(12,"Assign ride"),a()(),o(13,"div",4),c("click",function(){return s.onDelete("5ms","5ms")}),S(14,"mat-icon",7),o(15,"span"),r(16,"Delete route"),a()()()(),o(17,"mat-card-content")(18,"h3",8),r(19,"Cities"),a(),p(20,X,4,4,"span",9),o(21,"h3",8),r(22,"Carriage types"),a(),p(23,Z,4,4,"span",9),a()()),n&2&&(m(3),h("Route ",s.item.id,""),m(17),d("ngForOf",s.stationsName),m(3),d("ngForOf",s.carriagesName))},dependencies:[N,T,j,q,W,F,k,K],styles:[".item[_ngcontent-%COMP%]{margin-top:40px;display:flex;flex-direction:column;box-shadow:1px 1px 1px 1px #ccc}.item__header[_ngcontent-%COMP%]{display:flex;padding:15px 35px 0 15px;justify-content:space-between;align-items:center}.item__subheader[_ngcontent-%COMP%]{font-size:20px;font-weight:600;margin:10px 0}.item__buttons[_ngcontent-%COMP%]{display:flex;gap:25px}.item__button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;cursor:pointer}.item__button[_ngcontent-%COMP%]:hover{opacity:.5}.item__title[_ngcontent-%COMP%]{font-size:24px;font-weight:600}.item__icon[_ngcontent-%COMP%]{color:#000;cursor:pointer}.item__list[_ngcontent-%COMP%]{margin:10px 0}"]});let e=t;return e})();export{H as a,J as b,kt as c};
