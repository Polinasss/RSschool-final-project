import{d,e as u,t as n,w as a,x as R}from"./chunk-MGBRLVRV.js";import{a as r,b as o}from"./chunk-LLXA3JIY.js";var c={ride:null,isLoading:!1,error:null};var l=u({source:"RIDE",events:{loadRideById:d(),loadRideByIdSuccess:d(),loadRideByIdFailure:d(),createNewRide:d(),createNewRideSuccess:d(),createNewRideFailure:d(),addNewRideToStore:d(),updateRide:d(),updateRideSuccess:d(),updateRideFailure:d(),updateRideInStore:d(),deleteRide:d(),deleteRideSuccess:d(),deleteRideFailure:d(),deleteRideFromStore:d()}});var B=n({name:"ride",reducer:R(c,a(l.loadRideById,e=>o(r({},e),{isLoading:!0})),a(l.loadRideByIdSuccess,(e,{ride:i})=>o(r({},e),{ride:r({},i),isLoading:!1})),a(l.loadRideByIdFailure,(e,{error:i})=>o(r({},e),{error:i.message,isLoading:!1})),a(l.addNewRideToStore,(e,{newRide:i})=>o(r({},e),{ride:r({},i),error:null})),a(l.createNewRideFailure,(e,{error:i})=>o(r({},e),{error:i.message,isLoading:!1})),a(l.updateRideInStore,(e,{rideId:i,segmentId:s,updateRide:m})=>{if(!e.ride)return o(r({},e),{error:"Ride data is not available"});let p=o(r({},e.ride),{schedule:e.ride?.schedule.map(t=>t.rideId===i?o(r({},t),{segments:t.segments.map((g,S)=>S===s?r({},m):g)}):t)});return o(r({},e),{ride:p,error:null})}),a(l.updateRideFailure,(e,{error:i})=>o(r({},e),{error:i.message,isLoading:!1})),a(l.deleteRideFromStore,(e,{rideId:i})=>o(r({},e),{ride:e.ride?o(r({},e.ride),{schedule:e.ride.schedule.filter(s=>s.rideId!==i)}):null,error:null})),a(l.deleteRideFailure,(e,{error:i})=>o(r({},e),{error:i.message,isLoading:!1})))});export{l as a,B as b};
